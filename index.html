<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UstazTilek - Teacher Support Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* All your existing CSS styles remain the same */
        /* ... (your existing CSS code) ... */
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-chalkboard-teacher"></i>
                <span class="logo-text">UstazTilek</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#problem" class="nav-link" data-en="Problem" data-kk="Мәселе" data-ru="Проблема">Problem</a></li>
                    <li><a href="#solution" class="nav-link" data-en="Solution" data-kk="Шешім" data-ru="Решение">Solution</a></li>
                    <li><a href="#global" class="nav-link" data-en="Inspiration" data-kk="Шетелдік тәжірибе" data-ru="Глобальный опыт">Inspiration</a></li>
                    <li><a href="#testimonials" class="nav-link" data-en="Testimonials" data-kk="Пікірлер" data-ru="Отзывы">Testimonials</a></li>
                    <li><a href="#chat" class="nav-link" data-en="Community Chat" data-kk="Қауымдастық чаты" data-ru="Чат сообщества">Community Chat</a></li>
                    <li><a href="#commercialization" class="nav-link" data-en="Sustainability" data-kk="Тұрақтылық" data-ru="Устойчивость">Sustainability</a></li>
                    <li><a href="#join" class="nav-link" data-en="Join" data-kk="Қосылу" data-ru="Присоединиться">Join</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <button class="btn btn-outline" id="loginBtn" data-en="Login" data-kk="Кіру" data-ru="Войти">Login</button>
            </div>
            <div class="language-toggle">
                <button class="lang-btn active" data-lang="en">English</button>
                <button class="lang-btn" data-lang="kk">Қазақша</button>
                <button class="lang-btn" data-lang="ru">Русский</button>
            </div>
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-en="Login to UstazTilek" data-kk="UstazTilek-ке кіру" data-ru="Войти в UstazTilek">Login to UstazTilek</h2>
                <button class="close-modal">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail" data-en="Email" data-kk="Электрондық пошта" data-ru="Email">Email</label>
                    <input type="email" id="loginEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword" data-en="Password" data-kk="Құпия сөз" data-ru="Пароль">Password</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" data-en="Login" data-kk="Кіру" data-ru="Войти">Login</button>
                <div class="form-footer">
                    <p data-en="Don't have an account?" data-kk="Аккаунтыңыз жоқ па?" data-ru="Нет аккаунта?">
                        Don't have an account? <a href="#join" id="goToJoin">Join here</a>
                    </p>
                </div>
            </form>
        </div>
    </div>

    <!-- All your existing sections remain the same -->
    <!-- ... (your existing HTML sections) ... -->

    <!-- Join Section -->
    <section class="join" id="join">
        <div class="container">
            <div class="section-header">
                <h2 data-en="Join UstazTilek Today" data-kk="Бүгін UstazTilek-ке қосылыңыз" data-ru="Присоединяйтесь к UstazTilek сегодня">Join UstazTilek Today</h2>
                <p data-en="Become part of our growing community of educators supporting each other." data-kk="Бір-бірін қолдайтын өсіп келе жатқан мұғалімдер қауымдастығымыздың бөлігі болыңыз." data-ru="Станьте частью нашего растущего сообщества педагогов, поддерживающих друг друга.">Become part of our growing community of educators supporting each other.</p>
            </div>
            <div class="join-container">
                <div class="form-container card">
                    <div class="role-buttons">
                        <div class="role-btn active" data-role="teacher">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span data-en="Teacher" data-kk="Мұғалім" data-ru="Учитель">Teacher</span>
                        </div>
                        <div class="role-btn" data-role="mentor">
                            <i class="fas fa-user-graduate"></i>
                            <span data-en="Mentor" data-kk="Тәлімгер" data-ru="Наставник">Mentor</span>
                        </div>
                        <div class="role-btn" data-role="supporter">
                            <i class="fas fa-hands-helping"></i>
                            <span data-en="Supporter" data-kk="Қолдаушы" data-ru="Поддерживающий">Supporter</span>
                        </div>
                    </div>
                    <form id="joinForm">
                        <div class="form-group">
                            <label for="fullName" data-en="Full Name" data-kk="Толық аты" data-ru="Полное имя">Full Name</label>
                            <input type="text" id="fullName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="email" data-en="Email" data-kk="Электрондық пошта" data-ru="Email">Email</label>
                            <input type="email" id="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="password" data-en="Password" data-kk="Құпия сөз" data-ru="Пароль">Password</label>
                            <input type="password" id="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="location" data-en="Location" data-kk="Орналасқан жері" data-ru="Местоположение">Location</label>
                            <input type="text" id="location" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="school" data-en="School/Institution" data-kk="Мектеп/Мекеме" data-ru="Школа/Учреждение">School/Institution</label>
                            <input type="text" id="school" class="form-control">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;" data-en="Create Account" data-kk="Аккаунт жасау" data-ru="Создать аккаунт">Create Account</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-logo logo">
                <i class="fas fa-chalkboard-teacher"></i>
                <span>UstazTilek</span>
            </div>
            <div class="footer-social">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
            <p data-en="© 2023 UstazTilek. All rights reserved." data-kk="© 2023 UstazTilek. Барлық құқықтар қорғалған." data-ru="© 2023 UstazTilek. Все права защищены.">© 2023 UstazTilek. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Modal functionality
        const loginBtn = document.getElementById('loginBtn');
        const loginModal = document.getElementById('loginModal');
        const createPostBtn = document.getElementById('createPostBtn');
        const createPostModal = document.getElementById('createPostModal');
        const closeModalButtons = document.querySelectorAll('.close-modal');
        const goToJoin = document.getElementById('goToJoin');

        // Open login modal
        loginBtn.addEventListener('click', () => {
            loginModal.style.display = 'block';
        });

        // Open create post modal
        createPostBtn.addEventListener('click', () => {
            createPostModal.style.display = 'block';
        });

        // Close modals
        closeModalButtons.forEach(button => {
            button.addEventListener('click', () => {
                loginModal.style.display = 'none';
                createPostModal.style.display = 'none';
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
            }
            if (e.target === createPostModal) {
                createPostModal.style.display = 'none';
            }
        });

        // Go to join section from login modal
        goToJoin.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.style.display = 'none';
            document.getElementById('join').scrollIntoView({ behavior: 'smooth' });
        });

        // Role selection in join form
        const roleButtons = document.querySelectorAll('.role-btn');
        roleButtons.forEach(button => {
            button.addEventListener('click', () => {
                roleButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
            });
        });

        // Language toggle functionality
        const langButtons = document.querySelectorAll('.lang-btn');
        let currentLang = 'en';

        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                const lang = button.getAttribute('data-lang');
                changeLanguage(lang);
                
                // Update active button
                langButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
            });
        });

        function changeLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-en]').forEach(element => {
                if (element.getAttribute(`data-${lang}`)) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = element.getAttribute(`data-${lang}`);
                    } else {
                        element.textContent = element.getAttribute(`data-${lang}`);
                    }
                }
            });
        }

        // Form submission - FIXED
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form values
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (!email || !password) {
                alert(currentLang === 'en' ? 'Please fill in all fields.' : 
                      currentLang === 'kk' ? 'Барлық өрістерді толтырыңыз.' : 
                      'Пожалуйста, заполните все поля.');
                return;
            }
            
            // Simulate successful login
            alert(currentLang === 'en' ? 'Login successful!' : 
                  currentLang === 'kk' ? 'Кіру сәтті аяқталды!' : 
                  'Вход выполнен успешно!');
            
            // Close modal and reset form
            loginModal.style.display = 'none';
            document.getElementById('loginForm').reset();
            
            // Update UI to show logged in state
            loginBtn.textContent = currentLang === 'en' ? 'Logout' : 
                                  currentLang === 'kk' ? 'Шығу' : 
                                  'Выйти';
            
            // Change button functionality to logout
            loginBtn.onclick = () => {
                loginBtn.textContent = currentLang === 'en' ? 'Login' : 
                                      currentLang === 'kk' ? 'Кіру' : 
                                      'Войти';
                loginBtn.onclick = () => loginModal.style.display = 'block';
                alert(currentLang === 'en' ? 'Logged out successfully.' : 
                      currentLang === 'kk' ? 'Сіз жүйеден сәтті шықтыңыз.' : 
                      'Вы успешно вышли из системы.');
            };
        });

        document.getElementById('joinForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form values
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const location = document.getElementById('location').value;
            const school = document.getElementById('school').value;
            const role = document.querySelector('.role-btn.active').getAttribute('data-role');
            
            // Simple validation
            if (!fullName || !email || !password || !location) {
                alert(currentLang === 'en' ? 'Please fill in all required fields.' : 
                      currentLang === 'kk' ? 'Барлық міндетті өрістерді толтырыңыз.' : 
                      'Пожалуйста, заполните все обязательные поля.');
                return;
            }
            
            // Simulate successful account creation
            alert(currentLang === 'en' ? 'Account created successfully! Welcome to UstazTilek.' : 
                  currentLang === 'kk' ? 'Аккаунт сәтті жасалды! UstazTilek-ке қош келдіңіз.' : 
                  'Аккаунт успешно создан! Добро пожаловать в UstazTilek.');
            
            // Reset form
            document.getElementById('joinForm').reset();
            
            // Optionally redirect to login or dashboard
            // window.location.href = 'dashboard.html';
        });

        document.querySelector('.post-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert(currentLang === 'en' ? 'Post creation functionality would be implemented here.' : 
                  currentLang === 'kk' ? 'Пост жасау функциясы осында енгізілетін еді.' : 
                  'Функция создания поста была бы реализована здесь.');
            createPostModal.style.display = 'none';
        });

        // Upvote/downvote functionality
        document.querySelectorAll('.post-action.upvote, .post-action.downvote').forEach(action => {
            action.addEventListener('click', function() {
                const isUpvote = this.classList.contains('upvote');
                const isDownvote = this.classList.contains('downvote');
                const isActive = this.classList.contains('active');
                
                // Remove active state from both upvote and downvote in this post
                const postActions = this.closest('.post-actions');
                postActions.querySelectorAll('.post-action').forEach(a => {
                    a.classList.remove('active');
                });
                
                // Toggle active state if clicking the same button
                if (!isActive) {
                    this.classList.add('active');
                }
                
                // Update count
                const countElement = this.querySelector('span');
                let count = parseInt(countElement.textContent);
                
                if (isActive) {
                    countElement.textContent = count - 1;
                } else {
                    countElement.textContent = count + 1;
                }
            });
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Mobile menu toggle
        document.querySelector('.mobile-menu').addEventListener('click', () => {
            const nav = document.querySelector('nav');
            nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    document.querySelector('nav').style.display = 'none';
                }
            });
        });

        // Add some sample posts when creating a new post
        document.querySelector('.post-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('postTitle').value;
            const category = document.getElementById('postCategory').value;
            const content = document.getElementById('postContent').value;
            
            // Create new post element
            const newPost = document.createElement('div');
            newPost.className = 'post-card';
            newPost.innerHTML = `
                <div class="post-header">
                    <div class="post-meta">
                        <div class="post-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <div class="post-author">You</div>
                            <div class="post-time">Just now</div>
                        </div>
                    </div>
                    <div class="post-category">${document.querySelector(`#postCategory option[value="${category}"]`).textContent}</div>
                </div>
                <h3 class="post-title">${title}</h3>
                <div class="post-content">${content}</div>
                <div class="post-actions">
                    <div class="post-action upvote">
                        <i class="fas fa-arrow-up"></i>
                        <span>0</span>
                    </div>
                    <div class="post-action downvote">
                        <i class="fas fa-arrow-down"></i>
                        <span>0</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-comment"></i>
                        <span>0</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-share"></i>
                        <span>Share</span>
                    </div>
                </div>
            `;
            
            // Add to the top of the chat main section
            document.querySelector('.chat-main').prepend(newPost);
            
            // Reset form and close modal
            this.reset();
            createPostModal.style.display = 'none';
            
            // Add event listeners to the new post's upvote/downvote buttons
            newPost.querySelectorAll('.post-action.upvote, .post-action.downvote').forEach(action => {
                action.addEventListener('click', function() {
                    const isUpvote = this.classList.contains('upvote');
                    const isDownvote = this.classList.contains('downvote');
                    const isActive = this.classList.contains('active');
                    
                    // Remove active state from both upvote and downvote in this post
                    const postActions = this.closest('.post-actions');
                    postActions.querySelectorAll('.post-action').forEach(a => {
                        a.classList.remove('active');
                    });
                    
                    // Toggle active state if clicking the same button
                    if (!isActive) {
                        this.classList.add('active');
                    }
                    
                    // Update count
                    const countElement = this.querySelector('span');
                    let count = parseInt(countElement.textContent);
                    
                    if (isActive) {
                        countElement.textContent = count - 1;
                    } else {
                        countElement.textContent = count + 1;
                    }
                });
            });
        });
    </script>
</body>
</html>
